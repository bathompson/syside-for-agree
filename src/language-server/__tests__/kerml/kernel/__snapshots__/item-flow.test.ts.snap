// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`explicit declaration with name only is treated as typing 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "FeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFeature",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "FeatureTyping",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "TypeReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Class",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "Fuel",
                    "filters": [],
                    "imports": [],
                    "isSufficient": false,
                    "members": [],
                    "namespaceMembers": [
                      {
                        "$type": "OwningMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Class",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "SubFuel",
                          "filters": [],
                          "imports": [],
                          "isSufficient": false,
                          "members": [],
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "fuelTank",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "engine",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;

exports[`explicit declaration with qualified name only is treated as typing 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "FeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFeature",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "FeatureTyping",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "TypeReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Class",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "Fuel",
                    "filters": [],
                    "imports": [],
                    "isSufficient": false,
                    "members": [],
                    "namespaceMembers": [
                      {
                        "$type": "OwningMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Class",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "SubFuel",
                          "filters": [],
                          "imports": [],
                          "isSufficient": false,
                          "members": [],
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Class",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "SubFuel",
                    "filters": [],
                    "imports": [],
                    "isSufficient": false,
                    "members": [],
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "fuelTank",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "engine",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;

exports[`flow declaration can also include an explicit declaration of the type 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "FeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFeature",
        "aliases": [],
        "annotatingMembers": [],
        "declaredName": "fuelFlow",
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "FeatureTyping",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "TypeReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Class",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "Fuel",
                    "filters": [],
                    "imports": [],
                    "isSufficient": false,
                    "members": [],
                    "namespaceMembers": [
                      {
                        "$type": "OwningMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Class",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "SubFuel",
                          "filters": [],
                          "imports": [],
                          "isSufficient": false,
                          "members": [],
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "fuelTank",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "engine",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;

exports[`flow identification can be omitted 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "fuelTank",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "engine",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;

exports[`flow source and output targets can be specified using feature chains 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "declaredName": "fuelFlow",
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "fuelTank",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [
          {
            "$type": "ReferenceSubsetting",
            "annotations": [],
            "chains": [],
            "elements": [],
            "prefixes": [],
            "reference": {
              "$type": "FeatureReference",
              "parts": [
                {
                  "error": undefined,
                  "ref": {
                    "$type": "Feature",
                    "aliases": [],
                    "annotatingMembers": [],
                    "declaredName": "engine",
                    "filters": [],
                    "imports": [],
                    "isComposite": "composite",
                    "isNonunique": false,
                    "isOrdered": false,
                    "isSufficient": false,
                    "members": [
                      {
                        "$type": "FeatureMembership",
                        "annotations": [],
                        "chains": [],
                        "element": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [
                                        {
                                          "$type": "OwningMembership",
                                          "annotations": [],
                                          "chains": [],
                                          "element": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "SubFuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                          "elements": [],
                                          "prefixes": [],
                                        },
                                      ],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                        "elements": [],
                        "prefixes": [],
                      },
                    ],
                    "multiplicity": {
                      "$type": "OwningMembership",
                      "annotations": [],
                      "chains": [],
                      "element": {
                        "$type": "MultiplicityRange",
                        "aliases": [],
                        "annotatingMembers": [],
                        "filters": [],
                        "imports": [],
                        "isNonunique": false,
                        "isOrdered": false,
                        "isSufficient": false,
                        "members": [],
                        "namespaceMembers": [],
                        "prefixes": [],
                        "range": {
                          "$type": "OwningMembership",
                          "annotations": [],
                          "chains": [],
                          "element": {
                            "$type": "LiteralNumber",
                            "aliases": [],
                            "annotatingMembers": [],
                            "filters": [],
                            "imports": [],
                            "isNonunique": false,
                            "isOrdered": false,
                            "isSufficient": false,
                            "literal": 1,
                            "members": [],
                            "namespaceMembers": [],
                            "prefixes": [],
                            "relationshipMembers": [],
                            "typeRelationships": [],
                          },
                          "elements": [],
                          "prefixes": [],
                        },
                        "relationshipMembers": [],
                        "typeRelationships": [],
                      },
                      "elements": [],
                      "prefixes": [],
                    },
                    "namespaceMembers": [],
                    "prefixes": [],
                    "relationshipMembers": [],
                    "typeRelationships": [],
                  },
                },
              ],
            },
          },
        ],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;

exports[`named item flows are parsed 1`] = `
{
  "$type": "ItemFlow",
  "aliases": [],
  "annotatingMembers": [],
  "annotations": [],
  "chains": [],
  "declaredName": "fuelFlow",
  "elements": [],
  "filters": [],
  "imports": [],
  "isNonunique": false,
  "isOrdered": false,
  "isSufficient": false,
  "members": [
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelTank",
                          "filters": [],
                          "imports": [],
                          "isComposite": "composite",
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [
                            {
                              "$type": "FeatureMembership",
                              "annotations": [],
                              "chains": [],
                              "element": {
                                "$type": "Feature",
                                "aliases": [],
                                "annotatingMembers": [],
                                "declaredName": "fuelOut",
                                "direction": "out",
                                "filters": [],
                                "imports": [],
                                "isNonunique": false,
                                "isOrdered": false,
                                "isSufficient": false,
                                "members": [],
                                "multiplicity": {
                                  "$type": "OwningMembership",
                                  "annotations": [],
                                  "chains": [],
                                  "element": {
                                    "$type": "MultiplicityRange",
                                    "aliases": [],
                                    "annotatingMembers": [],
                                    "filters": [],
                                    "imports": [],
                                    "isNonunique": false,
                                    "isOrdered": false,
                                    "isSufficient": false,
                                    "members": [],
                                    "namespaceMembers": [],
                                    "prefixes": [],
                                    "range": {
                                      "$type": "OwningMembership",
                                      "annotations": [],
                                      "chains": [],
                                      "element": {
                                        "$type": "LiteralNumber",
                                        "aliases": [],
                                        "annotatingMembers": [],
                                        "filters": [],
                                        "imports": [],
                                        "isNonunique": false,
                                        "isOrdered": false,
                                        "isSufficient": false,
                                        "literal": 1,
                                        "members": [],
                                        "namespaceMembers": [],
                                        "prefixes": [],
                                        "relationshipMembers": [],
                                        "typeRelationships": [],
                                      },
                                      "elements": [],
                                      "prefixes": [],
                                    },
                                    "relationshipMembers": [],
                                    "typeRelationships": [],
                                  },
                                  "elements": [],
                                  "prefixes": [],
                                },
                                "namespaceMembers": [],
                                "prefixes": [],
                                "relationshipMembers": [],
                                "typeRelationships": [
                                  {
                                    "$type": "FeatureTyping",
                                    "annotations": [],
                                    "chains": [],
                                    "elements": [],
                                    "prefixes": [],
                                    "reference": {
                                      "$type": "TypeReference",
                                      "parts": [
                                        {
                                          "error": undefined,
                                          "ref": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "Fuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                        },
                                      ],
                                    },
                                  },
                                ],
                              },
                              "elements": [],
                              "prefixes": [],
                            },
                          ],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [],
                        },
                      },
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelOut",
                          "direction": "out",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [],
      },
      "elements": [],
      "prefixes": [],
    },
    {
      "$type": "EndFeatureMembership",
      "annotations": [],
      "chains": [],
      "element": {
        "$type": "ItemFlowEnd",
        "aliases": [],
        "annotatingMembers": [],
        "filters": [],
        "imports": [],
        "isNonunique": false,
        "isOrdered": false,
        "isSufficient": false,
        "members": [
          {
            "$type": "FeatureMembership",
            "annotations": [],
            "chains": [],
            "element": {
              "$type": "Feature",
              "aliases": [],
              "annotatingMembers": [],
              "filters": [],
              "imports": [],
              "isNonunique": false,
              "isOrdered": false,
              "isSufficient": false,
              "members": [],
              "namespaceMembers": [],
              "prefixes": [],
              "relationshipMembers": [],
              "typeRelationships": [
                {
                  "$type": "Redefinition",
                  "annotations": [],
                  "chains": [],
                  "elements": [],
                  "prefixes": [],
                  "reference": {
                    "$type": "FeatureReference",
                    "parts": [
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "engine",
                          "filters": [],
                          "imports": [],
                          "isComposite": "composite",
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [
                            {
                              "$type": "FeatureMembership",
                              "annotations": [],
                              "chains": [],
                              "element": {
                                "$type": "Feature",
                                "aliases": [],
                                "annotatingMembers": [],
                                "declaredName": "fuelIn",
                                "direction": "in",
                                "filters": [],
                                "imports": [],
                                "isNonunique": false,
                                "isOrdered": false,
                                "isSufficient": false,
                                "members": [],
                                "multiplicity": {
                                  "$type": "OwningMembership",
                                  "annotations": [],
                                  "chains": [],
                                  "element": {
                                    "$type": "MultiplicityRange",
                                    "aliases": [],
                                    "annotatingMembers": [],
                                    "filters": [],
                                    "imports": [],
                                    "isNonunique": false,
                                    "isOrdered": false,
                                    "isSufficient": false,
                                    "members": [],
                                    "namespaceMembers": [],
                                    "prefixes": [],
                                    "range": {
                                      "$type": "OwningMembership",
                                      "annotations": [],
                                      "chains": [],
                                      "element": {
                                        "$type": "LiteralNumber",
                                        "aliases": [],
                                        "annotatingMembers": [],
                                        "filters": [],
                                        "imports": [],
                                        "isNonunique": false,
                                        "isOrdered": false,
                                        "isSufficient": false,
                                        "literal": 1,
                                        "members": [],
                                        "namespaceMembers": [],
                                        "prefixes": [],
                                        "relationshipMembers": [],
                                        "typeRelationships": [],
                                      },
                                      "elements": [],
                                      "prefixes": [],
                                    },
                                    "relationshipMembers": [],
                                    "typeRelationships": [],
                                  },
                                  "elements": [],
                                  "prefixes": [],
                                },
                                "namespaceMembers": [],
                                "prefixes": [],
                                "relationshipMembers": [],
                                "typeRelationships": [
                                  {
                                    "$type": "FeatureTyping",
                                    "annotations": [],
                                    "chains": [],
                                    "elements": [],
                                    "prefixes": [],
                                    "reference": {
                                      "$type": "TypeReference",
                                      "parts": [
                                        {
                                          "error": undefined,
                                          "ref": {
                                            "$type": "Class",
                                            "aliases": [],
                                            "annotatingMembers": [],
                                            "declaredName": "Fuel",
                                            "filters": [],
                                            "imports": [],
                                            "isSufficient": false,
                                            "members": [],
                                            "namespaceMembers": [],
                                            "prefixes": [],
                                            "relationshipMembers": [],
                                            "typeRelationships": [],
                                          },
                                        },
                                      ],
                                    },
                                  },
                                ],
                              },
                              "elements": [],
                              "prefixes": [],
                            },
                          ],
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [],
                        },
                      },
                      {
                        "error": undefined,
                        "ref": {
                          "$type": "Feature",
                          "aliases": [],
                          "annotatingMembers": [],
                          "declaredName": "fuelIn",
                          "direction": "in",
                          "filters": [],
                          "imports": [],
                          "isNonunique": false,
                          "isOrdered": false,
                          "isSufficient": false,
                          "members": [],
                          "multiplicity": {
                            "$type": "OwningMembership",
                            "annotations": [],
                            "chains": [],
                            "element": {
                              "$type": "MultiplicityRange",
                              "aliases": [],
                              "annotatingMembers": [],
                              "filters": [],
                              "imports": [],
                              "isNonunique": false,
                              "isOrdered": false,
                              "isSufficient": false,
                              "members": [],
                              "namespaceMembers": [],
                              "prefixes": [],
                              "range": {
                                "$type": "OwningMembership",
                                "annotations": [],
                                "chains": [],
                                "element": {
                                  "$type": "LiteralNumber",
                                  "aliases": [],
                                  "annotatingMembers": [],
                                  "filters": [],
                                  "imports": [],
                                  "isNonunique": false,
                                  "isOrdered": false,
                                  "isSufficient": false,
                                  "literal": 1,
                                  "members": [],
                                  "namespaceMembers": [],
                                  "prefixes": [],
                                  "relationshipMembers": [],
                                  "typeRelationships": [],
                                },
                                "elements": [],
                                "prefixes": [],
                              },
                              "relationshipMembers": [],
                              "typeRelationships": [],
                            },
                            "elements": [],
                            "prefixes": [],
                          },
                          "namespaceMembers": [],
                          "prefixes": [],
                          "relationshipMembers": [],
                          "typeRelationships": [
                            {
                              "$type": "FeatureTyping",
                              "annotations": [],
                              "chains": [],
                              "elements": [],
                              "prefixes": [],
                              "reference": {
                                "$type": "TypeReference",
                                "parts": [
                                  {
                                    "error": undefined,
                                    "ref": {
                                      "$type": "Class",
                                      "aliases": [],
                                      "annotatingMembers": [],
                                      "declaredName": "Fuel",
                                      "filters": [],
                                      "imports": [],
                                      "isSufficient": false,
                                      "members": [],
                                      "namespaceMembers": [],
                                      "prefixes": [],
                                      "relationshipMembers": [],
                                      "typeRelationships": [],
                                    },
                                  },
                                ],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
            "elements": [],
            "prefixes": [],
          },
        ],
        "namespaceMembers": [],
        "prefixes": [],
        "relationshipMembers": [],
        "typeRelationships": [],
      },
      "elements": [],
      "prefixes": [],
    },
  ],
  "namespaceMembers": [],
  "prefixes": [],
  "relationshipMembers": [],
  "typeRelationships": [],
}
`;
