{
    "name": "sysml-2ls",
    "displayName": "SysML2 Tools",
    "description": "Provides language support for systems modeling in SysML v2 in VS Code.",
    "publisher": "Sensmetry",
    "version": "0.1.1",
    "icon": "docs/images/logo.png",
    "engines": {
        "vscode": "^1.56.0"
    },
    "categories": [
        "Programming Languages",
        "Other"
    ],
    "keywords": [
        "SysML",
        "KerML",
        "SysML-v2"
    ],
    "preview": true,
    "extensionKind": [
        "workspace"
    ],
    "repository": {
        "url": "https://gitlab.com/sensmetry/public/sysml-2ls",
        "type": "git"
    },
    "contributes": {
        "languages": [
            {
                "id": "kerml",
                "aliases": [
                    "KerML"
                ],
                "extensions": [
                    ".kerml"
                ],
                "configuration": "./language-configuration.json"
            },
            {
                "id": "sysml",
                "aliases": [
                    "SysML"
                ],
                "extensions": [
                    ".sysml"
                ],
                "configuration": "./language-configuration.json"
            }
        ],
        "grammars": [
            {
                "language": "kerml",
                "scopeName": "source.kerml",
                "path": "./syntaxes/kerml.tmLanguage.json"
            },
            {
                "language": "sysml",
                "scopeName": "source.sysml",
                "path": "./syntaxes/sysml.tmLanguage.json"
            }
        ],
        "semanticTokenTypes": [
            {
                "id": "annotation",
                "superType": "relationship",
                "description": "Annotation"
            },
            {
                "id": "annotationBody",
                "superType": "string",
                "description": "Annotation body"
            },
            {
                "id": "relationship",
                "superType": "modifier",
                "description": "Relationship element"
            },
            {
                "id": "metaclass",
                "superType": "struct",
                "description": "Metaclass element"
            }
        ],
        "semanticTokenModifiers": [],
        "commands": [
            {
                "command": "sysml.dumpAst.console",
                "shortTitle": "Dump AST of the current selection",
                "title": "SysML: Dump AST of the current selection in the active text editor"
            },
            {
                "command": "sysml.dumpMeta.console",
                "shortTitle": "Dump Meta of the current selection",
                "title": "SysML: Dump Meta of the current selection in the active text editor"
            },
            {
                "command": "sysml.updateDocument",
                "shortTitle": "Update current document",
                "title": "SysML: Update current document"
            },
            {
                "command": "sysml.mro.console",
                "shortTitle": "Get MRO of the current node",
                "title": "SysML: Get MRO of the current node"
            },
            {
                "command": "sysml.children.console",
                "shortTitle": "Get children of the current node",
                "title": "SysML: Get all direct, inherited and imported children of the current node"
            },
            {
                "command": "sysml.scope.console",
                "shortTitle": "Get elements in scope of the current node",
                "title": "SysML: Get all elements in scope of the current node"
            },
            {
                "command": "sysml.evaluate.console",
                "shortTitle": "Evaluate the selected expression",
                "title": "SysML: Evaluate the selected expression or feature value"
            },
            {
                "command": "sysml.allCommands.console",
                "shortTitle": "Get all available language server commands",
                "title": "SysML: Get all available language server commands"
            }
        ],
        "menus": {
            "editor/context": [
                {
                    "submenu": "sysml.commands"
                }
            ],
            "sysml.commands": [
                {
                    "command": "sysml.dumpAst.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.dumpMeta.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.updateDocument",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.mro.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.children.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.scope.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.evaluate.console",
                    "group": "SysML",
                    "when": "editorTextFocus && editorLangId =~ /(ker|sys)ml/"
                },
                {
                    "command": "sysml.allCommands.console",
                    "group": "SysML",
                    "when": "editorLangId =~ /(ker|sys)ml/"
                }
            ]
        },
        "submenus": [
            {
                "id": "sysml.commands",
                "label": "SysML"
            }
        ],
        "configuration": {
            "type": "object",
            "title": "Example configuration",
            "properties": {
                "sysml.trace.server": {
                    "scope": "window",
                    "type": "string",
                    "enum": [
                        "off",
                        "messages",
                        "verbose"
                    ],
                    "default": "off",
                    "description": "Traces the communication between VS Code and the language server."
                },
                "sysml.standardLibrary": {
                    "scope": "window",
                    "type": "boolean",
                    "default": true,
                    "description": "If false, skip parsing the standard library"
                },
                "sysml.standardLibraryPath": {
                    "scope": "window",
                    "type": [
                        "null",
                        "string"
                    ],
                    "default": null,
                    "description": "Standard library import path, if not set uses the bundled standard library path"
                },
                "sysml.logStatistics": {
                    "scope": "window",
                    "type": "boolean",
                    "default": false,
                    "description": "Log build times"
                },
                "sysml.defaultBuildOptions.validationChecks": {
                    "scope": "window",
                    "type": "string",
                    "enum": [
                        "none",
                        "all"
                    ],
                    "default": "all",
                    "description": "Which validation checks are enabled for files"
                },
                "sysml.defaultBuildOptions.ignoreMetamodelErrors": {
                    "scope": "window",
                    "type": "boolean",
                    "default": false,
                    "description": "Ignore errors due to invalid metamodel such as when not using a standard library"
                },
                "sysml.defaultBuildOptions.standardLibrary": {
                    "scope": "window",
                    "type": "string",
                    "enum": [
                        "none",
                        "standard",
                        "local"
                    ],
                    "enumDescriptions": [
                        "skip setting up relationships to the standard library elements",
                        "use default standard library",
                        "use standard library elements from the document locally, useful for testing"
                    ],
                    "default": "standard",
                    "description": "Source of standard library elements"
                },
                "sysml.debug.scopeInLinkingErrors": {
                    "scope": "window",
                    "type": "boolean",
                    "default": false,
                    "description": "Display elements in scope in linking errors"
                },
                "sysml.debug.stacktraceInLinkingErrors": {
                    "scope": "window",
                    "type": "boolean",
                    "default": true,
                    "description": "Display stacktrace in linking errors if an error was thrown"
                },
                "sysml.debug.linkingTrace": {
                    "scope": "window",
                    "type": "boolean",
                    "default": false,
                    "description": "Show trace of linking order"
                }
            }
        }
    },
    "activationEvents": [
        "onLanguage:kerml",
        "onLanguage:sysml"
    ],
    "files": [
        "bin",
        "out",
        "src"
    ],
    "bin": {
        "sysml-cli": "./bin/cli"
    },
    "main": "./out/extension.js",
    "scripts": {
        "lint": "eslint src --ext ts --max-warnings 0",
        "langium:generate": "langium generate",
        "langium:watch": "langium generate --watch",
        "test": "jest",
        "vscode:prepublish": "pnpm run esbuild-base --minify",
        "vscode:package": "vsce package --no-dependencies --gitlabBranch=main",
        "esbuild-base": "esbuild ./src/extension.ts ./src/language-server/main.ts ./src/cli/index.ts --bundle --outdir=out --external:vscode --format=cjs --platform=node",
        "esbuild": "pnpm run esbuild-base --sourcemap",
        "watch": "pnpm run esbuild-base --sourcemap --watch",
        "tstrace": "tsc -p tsconfig.json --generateTrace trace",
        "typecheck": "tsc -p tsconfig.json --noEmit",
        "typecheck:watch": "pnpm run typecheck --watch",
        "index": "pnpx tsx ./scripts/generate-model-index.ts",
        "groups": "pnpx tsx ./scripts/sysml-grouping.ts",
        "run-validation": "pnpx tsx ./scripts/run-validation.ts",
        "grammar:generate": "pnpx tsx ./scripts/generate.ts",
        "grammar:watch": "pnpx tsx ./scripts/generate.ts --watch"
    },
    "dependencies": {
        "chalk": "^4.1.2",
        "chevrotain": "^9.1.0",
        "commander": "^8.0.0",
        "fs-extra": "^11.1.0",
        "langium": "^1.0.1",
        "ts-mixer": "^6.0.1",
        "vscode-languageclient": "^8.0.2",
        "vscode-languageserver": "^8.0.2",
        "vscode-languageserver-protocol": "^3.17.2",
        "vscode-languageserver-textdocument": "^1.0.8",
        "vscode-uri": "^3.0.2",
        "yauzl": "^2.10.0"
    },
    "devDependencies": {
        "@jest/expect-utils": "^29.4.0",
        "@jest/globals": "^29.4.0",
        "@swc/core": "^1.3.27",
        "@swc/jest": "^0.2.24",
        "@types/fs-extra": "^11.0.1",
        "@types/jest": "^29.2.0",
        "@types/node": "^14.18.32",
        "@types/vscode": "^1.56.0",
        "@types/yauzl": "^2.10.0",
        "@typescript-eslint/eslint-plugin": "^5.44.0",
        "@typescript-eslint/parser": "^5.44.0",
        "@vscode/vsce": "^2.16.0",
        "esbuild": "^0.15.16",
        "eslint": "^8.17.0",
        "eslint-plugin-unused-imports": "^2.0.0",
        "expect": "^29.4.0",
        "jest": "^29.3.1",
        "jest-matcher-utils": "^29.4.0",
        "jsonschema": "^1.4.1",
        "langium-workspaces": "github:langium/langium#c07bc1bc142777a5386dce6528d163758f52ed67",
        "tsx": "^3.12.2",
        "typescript": "^4.8.4",
        "typescript-string-operations": "^1.5.0"
    }
}
